<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SGV Grupo 7: src/filial.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SGV Grupo 7
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">filial.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Ficheiro que implementa o módulo das filiais.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;headers.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for filial.c:</div>
<div class="dyncontent">
<div class="center"><img src="filial_8c__incl.png" border="0" usemap="#src_2filial_8c" alt=""/></div>
<map name="src_2filial_8c" id="src_2filial_8c">
<area shape="rect" id="node2" href="headers_8h_source.html" title="headers.h" alt="" coords="761,80,839,107"/>
<area shape="rect" id="node11" href="tipos_8h_source.html" title="tipos.h" alt="" coords="719,155,780,181"/>
<area shape="rect" id="node12" href="catProduto_8h_source.html" title="catProduto.h" alt="" coords="804,155,900,181"/>
<area shape="rect" id="node13" href="catCliente_8h_source.html" title="catCliente.h" alt="" coords="925,155,1017,181"/>
<area shape="rect" id="node14" href="faturacao_8h_source.html" title="faturacao.h" alt="" coords="1041,155,1127,181"/>
<area shape="rect" id="node15" href="filial_8h_source.html" title="filial.h" alt="" coords="1152,155,1208,181"/>
<area shape="rect" id="node16" href="vendas_8h_source.html" title="vendas.h" alt="" coords="1232,155,1307,181"/>
<area shape="rect" id="node17" href="auxs_8h_source.html" title="auxs.h" alt="" coords="1331,155,1392,181"/>
<area shape="rect" id="node18" href="interface_8h_source.html" title="interface.h" alt="" coords="1416,155,1499,181"/>
<area shape="rect" id="node19" href="visual_8h_source.html" title="visual.h" alt="" coords="1523,155,1589,181"/>
<area shape="rect" id="node20" href="controlador_8h_source.html" title="controlador.h" alt="" coords="1614,155,1711,181"/>
</map>
</div>
</div>
<p><a href="filial_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfilial.html">filial</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura que guarda os dados das diferentes filiais.  <a href="structfilial.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnodoFilial.html">nodoFilial</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura que guarda o registo dos produtos comprados por um cliente.  <a href="structnodoFilial.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structint__np.html">int_np</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura que guarda os valores totais de unidades vendidas ou vendas num dado mês.  <a href="structint__np.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfloat__np.html">float_np</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura que guarda os valores totais de faturação num dado mês.  <a href="structfloat__np.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprodutosCliente.html">produtosCliente</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura que guarda o registo das vendas de um produto, para um dado cliente.  <a href="structprodutosCliente.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0652956f83e99d6da7c1048cf4286f66"><td class="memItemLeft" align="right" valign="top"><a id="a0652956f83e99d6da7c1048cf4286f66"></a>
typedef struct <a class="el" href="structint__np.html">int_np</a>&#160;</td><td class="memItemRight" valign="bottom"><b>INT_NP</b></td></tr>
<tr class="separator:a0652956f83e99d6da7c1048cf4286f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445efab07703b441d0a4539d6da499c8"><td class="memItemLeft" align="right" valign="top"><a id="a445efab07703b441d0a4539d6da499c8"></a>
typedef struct <a class="el" href="structfloat__np.html">float_np</a>&#160;</td><td class="memItemRight" valign="bottom"><b>FLOAT_NP</b></td></tr>
<tr class="separator:a445efab07703b441d0a4539d6da499c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24d79c9b2a5def04108c01ef76b5116"><td class="memItemLeft" align="right" valign="top"><a id="ae24d79c9b2a5def04108c01ef76b5116"></a>
typedef struct <a class="el" href="structnodoFilial.html">nodoFilial</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>NODO_FILIAL</b></td></tr>
<tr class="separator:ae24d79c9b2a5def04108c01ef76b5116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9192cc68bf0983b8d0a1a424f7ace504"><td class="memItemLeft" align="right" valign="top"><a id="a9192cc68bf0983b8d0a1a424f7ace504"></a>
typedef struct <a class="el" href="structprodutosCliente.html">produtosCliente</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUTOS_CLIENTE</b></td></tr>
<tr class="separator:a9192cc68bf0983b8d0a1a424f7ace504"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3c1b79e9701d3da19e98e1d6cf326281"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a3c1b79e9701d3da19e98e1d6cf326281">verSePresenteNoutraArvore</a> (gpointer key, gpointer value, gpointer data)</td></tr>
<tr class="memdesc:a3c1b79e9701d3da19e98e1d6cf326281"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que verifica os clientes comuns a duas GTrees e os insere numa terceira.  <a href="#a3c1b79e9701d3da19e98e1d6cf326281">More...</a><br /></td></tr>
<tr class="separator:a3c1b79e9701d3da19e98e1d6cf326281"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeed7b3ae91e0b3484a70e087ddb7b1f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#aeed7b3ae91e0b3484a70e087ddb7b1f3">initFilial</a> (<a class="el" href="structclientes.html">CLIENTES</a> <a class="el" href="structclientes.html">clientes</a>)</td></tr>
<tr class="memdesc:aeed7b3ae91e0b3484a70e087ddb7b1f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que inicializa a estrutura da filial.  <a href="#aeed7b3ae91e0b3484a70e087ddb7b1f3">More...</a><br /></td></tr>
<tr class="separator:aeed7b3ae91e0b3484a70e087ddb7b1f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa438000b3000759e2d04da3a7e68178a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#aa438000b3000759e2d04da3a7e68178a">freeFilial</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>)</td></tr>
<tr class="memdesc:aa438000b3000759e2d04da3a7e68178a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que liberta a memória alocada para a estrutura de uma filial.  <a href="#aa438000b3000759e2d04da3a7e68178a">More...</a><br /></td></tr>
<tr class="separator:aa438000b3000759e2d04da3a7e68178a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0634188b7706ae26813975cf71e9cd73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a0634188b7706ae26813975cf71e9cd73">insereVendaFilial</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, char *productID, char *clientID, char modo, float preco, int quantidade, int mes)</td></tr>
<tr class="memdesc:a0634188b7706ae26813975cf71e9cd73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que insere uma venda na estrutura da faturação.  <a href="#a0634188b7706ae26813975cf71e9cd73">More...</a><br /></td></tr>
<tr class="separator:a0634188b7706ae26813975cf71e9cd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82f4e095a49164e5f69f2c69e743bde"><td class="memItemLeft" align="right" valign="top">GTree *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#ae82f4e095a49164e5f69f2c69e743bde">getClientsWhoBoughtFromBranch</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>)</td></tr>
<tr class="memdesc:ae82f4e095a49164e5f69f2c69e743bde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que retorna um GPtrArray de codigos de Cliente que compraram numa dada filial.  <a href="#ae82f4e095a49164e5f69f2c69e743bde">More...</a><br /></td></tr>
<tr class="separator:ae82f4e095a49164e5f69f2c69e743bde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49683218b9512def78f3d5a7101a16b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a49683218b9512def78f3d5a7101a16b0">getClientsNeverBoughtCount</a> (<a class="el" href="structfilial.html">FILIAL</a> *filiais)</td></tr>
<tr class="memdesc:a49683218b9512def78f3d5a7101a16b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que retorna a quantidade de clientes que nunca compraram.  <a href="#a49683218b9512def78f3d5a7101a16b0">More...</a><br /></td></tr>
<tr class="separator:a49683218b9512def78f3d5a7101a16b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468bfb921a5eab06189482302fd0b155"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a468bfb921a5eab06189482302fd0b155">getProductQuantityBoughtByClient</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, char *clientID, int *quantidadesMes)</td></tr>
<tr class="memdesc:a468bfb921a5eab06189482302fd0b155"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que incrementa num array de inteiros inicialmente com todas as posições a zero com as quantidades compradas de um dado cliente numa dada filial.  <a href="#a468bfb921a5eab06189482302fd0b155">More...</a><br /></td></tr>
<tr class="separator:a468bfb921a5eab06189482302fd0b155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebb1ba0581c2fa3563e5693e0700f0d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structquery9.html">QUERY9</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#aeebb1ba0581c2fa3563e5693e0700f0d">getClientsWhoBoughtAProductFromBranch</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, char *productID)</td></tr>
<tr class="memdesc:aeebb1ba0581c2fa3563e5693e0700f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que retorna uma estrutura QUERY9 onde se encontram codigos de Cliente que compraram um certo produto numa dada filial.  <a href="#aeebb1ba0581c2fa3563e5693e0700f0d">More...</a><br /></td></tr>
<tr class="separator:aeebb1ba0581c2fa3563e5693e0700f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3171627592da00dc8619850acad6ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a0e3171627592da00dc8619850acad6ca">getProductsBoughtByClientAndQuantity</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, char *clientID, int month, GPtrArray *array)</td></tr>
<tr class="memdesc:a0e3171627592da00dc8619850acad6ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que preenche um GPtrArray com os produtos associados a um cliente, bem como a quantidade comprada de cada um.  <a href="#a0e3171627592da00dc8619850acad6ca">More...</a><br /></td></tr>
<tr class="separator:a0e3171627592da00dc8619850acad6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7b9294c5280abd795cabed888e36a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#ade7b9294c5280abd795cabed888e36a6">getClientsWhoBoughtAProductAndQuantity</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, GPtrArray *array)</td></tr>
<tr class="memdesc:ade7b9294c5280abd795cabed888e36a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que preenche um GPtrArray com as quantidades e o número de clientes de um dado produto.  <a href="#ade7b9294c5280abd795cabed888e36a6">More...</a><br /></td></tr>
<tr class="separator:ade7b9294c5280abd795cabed888e36a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a219d44925a587ecda13d2b764c9865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="filial_8c.html#a1a219d44925a587ecda13d2b764c9865">getProductsBoughtByClientAndMoney</a> (<a class="el" href="structfilial.html">FILIAL</a> <a class="el" href="structfilial.html">filial</a>, char *clientID, GPtrArray *array)</td></tr>
<tr class="memdesc:a1a219d44925a587ecda13d2b764c9865"><td class="mdescLeft">&#160;</td><td class="mdescRight">Função que preenche um GPtrArray com os produtos associados a um cliente, bem como o faturado por cada produto num ano inteiro.  <a href="#a1a219d44925a587ecda13d2b764c9865">More...</a><br /></td></tr>
<tr class="separator:a1a219d44925a587ecda13d2b764c9865"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Ficheiro que implementa o módulo das filiais. </p>

<p class="definition">Definition in file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa438000b3000759e2d04da3a7e68178a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa438000b3000759e2d04da3a7e68178a">&#9670;&nbsp;</a></span>freeFilial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfilial.html">FILIAL</a> freeFilial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que liberta a memória alocada para a estrutura de uma filial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a estrutura de uma filial </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Retorna NULL, em caso de sucesso </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00502">502</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    g_tree_destroy(filial-&gt;nodosFilial);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    free(filial);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a49683218b9512def78f3d5a7101a16b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49683218b9512def78f3d5a7101a16b0">&#9670;&nbsp;</a></span>getClientsNeverBoughtCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getClientsNeverBoughtCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a> *&#160;</td>
          <td class="paramname"><em>filiais</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que retorna a quantidade de clientes que nunca compraram. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filiais</td><td>Apontador para as estruturas das filiais </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Quantidade de clientes que nunca compraram </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00576">576</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    guint index;</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    GPtrArray* clientes_filial1 = g_ptr_array_new();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    g_tree_foreach(filiais[0]-&gt;nodosFilial, Q6TraverseFunc, &amp;clientes_filial1);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    GPtrArray* clientes_filial2 = g_ptr_array_new();</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    g_tree_foreach(filiais[1]-&gt;nodosFilial, Q6TraverseFunc, &amp;clientes_filial2);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    GPtrArray* clientes_filial3 = g_ptr_array_new();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    g_tree_foreach(filiais[2]-&gt;nodosFilial, Q6TraverseFunc, &amp;clientes_filial3);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; clientes_filial1-&gt;len; i++) {</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">if</span> (g_ptr_array_find_with_equal_func(clientes_filial2, clientes_filial1-&gt;pdata[i], <a class="code" href="auxs_8c.html#a4c0c96717a9b91b877a619c5c73a32b0">gconstpointerStrEquals</a>, &amp;index) == TRUE</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;         &amp;&amp; g_ptr_array_find_with_equal_func(clientes_filial3, clientes_filial1-&gt;pdata[i], <a class="code" href="auxs_8c.html#a4c0c96717a9b91b877a619c5c73a32b0">gconstpointerStrEquals</a>, &amp;index) == TRUE)</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        {</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            count++;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    }</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <a class="code" href="auxs_8c.html#ab6bfb7985ff8e5006c1de2260eb91b87">myfreePointerArray</a>(clientes_filial1);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    <a class="code" href="auxs_8c.html#ab6bfb7985ff8e5006c1de2260eb91b87">myfreePointerArray</a>(clientes_filial2);</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;    <a class="code" href="auxs_8c.html#ab6bfb7985ff8e5006c1de2260eb91b87">myfreePointerArray</a>(clientes_filial3);</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordflow">return</span> count;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;}</div><div class="ttc" id="auxs_8c_html_ab6bfb7985ff8e5006c1de2260eb91b87"><div class="ttname"><a href="auxs_8c.html#ab6bfb7985ff8e5006c1de2260eb91b87">myfreePointerArray</a></div><div class="ttdeci">void myfreePointerArray(GPtrArray *array)</div><div class="ttdoc">Função que liberta totalmente um GPtrArray. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00088">auxs.c:88</a></div></div>
<div class="ttc" id="auxs_8c_html_a4c0c96717a9b91b877a619c5c73a32b0"><div class="ttname"><a href="auxs_8c.html#a4c0c96717a9b91b877a619c5c73a32b0">gconstpointerStrEquals</a></div><div class="ttdeci">gboolean gconstpointerStrEquals(gconstpointer pt1, gconstpointer pt2)</div><div class="ttdoc">Função que testa se duas strings são iguais, recebendo gconstpointer. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00103">auxs.c:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ade7b9294c5280abd795cabed888e36a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7b9294c5280abd795cabed888e36a6">&#9670;&nbsp;</a></span>getClientsWhoBoughtAProductAndQuantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getClientsWhoBoughtAProductAndQuantity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPtrArray *&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que preenche um GPtrArray com as quantidades e o número de clientes de um dado produto. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os produtos </td></tr>
    <tr><td class="paramname">array</td><td>Apontador para o GPtrArray a preencher </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00668">668</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;{</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    g_tree_foreach(filial-&gt;nodosFilial, Q11TraverseFunc, &amp;array);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="aeebb1ba0581c2fa3563e5693e0700f0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeebb1ba0581c2fa3563e5693e0700f0d">&#9670;&nbsp;</a></span>getClientsWhoBoughtAProductFromBranch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structquery9.html">QUERY9</a> getClientsWhoBoughtAProductFromBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>productID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que retorna uma estrutura QUERY9 onde se encontram codigos de Cliente que compraram um certo produto numa dada filial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os clientes que realizaram compra </td></tr>
    <tr><td class="paramname">productID</td><td>Código de produto a ser estudado </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>QUERY9 onde possui codigos de Cliente que compraram o produto dado (char* -&gt; Strings) </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00627">627</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;{</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="structquery9.html">QUERY9</a> compradoresProduto = malloc (<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structquery9.html">query9</a>));</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    strcpy(compradoresProduto-&gt;productID, productID);</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    compradoresProduto-&gt;productBuyersN = g_ptr_array_new();</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    compradoresProduto-&gt;productBuyersP = g_ptr_array_new();</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    g_tree_foreach(filial-&gt;nodosFilial, Q9TraverseFunc, &amp;compradoresProduto);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">return</span> compradoresProduto;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;}</div><div class="ttc" id="structquery9_html"><div class="ttname"><a href="structquery9.html">query9</a></div><div class="ttdef"><b>Definition:</b> <a href="tipos_8h_source.html#l00053">tipos.h:53</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae82f4e095a49164e5f69f2c69e743bde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82f4e095a49164e5f69f2c69e743bde">&#9670;&nbsp;</a></span>getClientsWhoBoughtFromBranch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GTree* getClientsWhoBoughtFromBranch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que retorna um GPtrArray de codigos de Cliente que compraram numa dada filial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os clientes que realizaram compra </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GPtrArray de codigos de Cliente (char* -&gt; Strings) </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00561">561</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    GTree* clientesCompraram = g_tree_new_full(<a class="code" href="auxs_8c.html#a1eb9bea729d7ef794c64d6d4af76072d">compareAVLStrings</a>, NULL, <a class="code" href="auxs_8c.html#abad01599bd9a26f68ba23355126d9468">freeAVLStrings</a>, <a class="code" href="auxs_8c.html#abad01599bd9a26f68ba23355126d9468">freeAVLStrings</a>);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    g_tree_foreach(filial-&gt;nodosFilial, Q5TraverseFunc, &amp;clientesCompraram);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <span class="keywordflow">return</span> clientesCompraram;</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="ttc" id="auxs_8c_html_a1eb9bea729d7ef794c64d6d4af76072d"><div class="ttname"><a href="auxs_8c.html#a1eb9bea729d7ef794c64d6d4af76072d">compareAVLStrings</a></div><div class="ttdeci">gint compareAVLStrings(gconstpointer p1, gconstpointer p2, gpointer user_data)</div><div class="ttdoc">Função que compara dois nodos de uma AVL de strings. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00254">auxs.c:254</a></div></div>
<div class="ttc" id="auxs_8c_html_abad01599bd9a26f68ba23355126d9468"><div class="ttname"><a href="auxs_8c.html#abad01599bd9a26f68ba23355126d9468">freeAVLStrings</a></div><div class="ttdeci">void freeAVLStrings(gpointer key)</div><div class="ttdoc">Função que liberta a memória alocada para uma key de um nodo de uma AVL de Strings. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00266">auxs.c:266</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a468bfb921a5eab06189482302fd0b155"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a468bfb921a5eab06189482302fd0b155">&#9670;&nbsp;</a></span>getProductQuantityBoughtByClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getProductQuantityBoughtByClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>quantidadesMes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que incrementa num array de inteiros inicialmente com todas as posições a zero com as quantidades compradas de um dado cliente numa dada filial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os clientes que realizaram compra </td></tr>
    <tr><td class="paramname">clientID</td><td>Codigo do Cliente que pretendemos estudar </td></tr>
    <tr><td class="paramname">quantidadesMes</td><td>Apontador para um array de inteiros onde vão sendo acrescentadas as quantidades de produtos compradas (este array começa com todas as posições a 0) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00611">611</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;{</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="structnodoFilial.html">NODO_FILIAL</a> nodo = (<a class="code" href="structnodoFilial.html">NODO_FILIAL</a>) g_tree_lookup(filial-&gt;nodosFilial, clientID);</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    g_tree_foreach(nodo-&gt;produtosComprados, Q7TraverseFunc, &amp;quantidadesMes);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;}</div><div class="ttc" id="structnodoFilial_html"><div class="ttname"><a href="structnodoFilial.html">nodoFilial</a></div><div class="ttdoc">Estrutura que guarda o registo dos produtos comprados por um cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00050">filial.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a219d44925a587ecda13d2b764c9865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a219d44925a587ecda13d2b764c9865">&#9670;&nbsp;</a></span>getProductsBoughtByClientAndMoney()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getProductsBoughtByClientAndMoney </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPtrArray *&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que preenche um GPtrArray com os produtos associados a um cliente, bem como o faturado por cada produto num ano inteiro. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os produtos </td></tr>
    <tr><td class="paramname">clientID</td><td>Código de cliente a estudar </td></tr>
    <tr><td class="paramname">array</td><td>Apontador para o GPtrArray a preencher </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00681">681</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="structnodoFilial.html">NODO_FILIAL</a> <a class="code" href="structnodoFilial.html">nodoFilial</a> = (<a class="code" href="structnodoFilial.html">NODO_FILIAL</a>) g_tree_lookup(filial-&gt;nodosFilial, clientID);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    g_tree_foreach(nodoFilial-&gt;produtosComprados, Q12TraverseFunc, &amp;array);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div><div class="ttc" id="structnodoFilial_html"><div class="ttname"><a href="structnodoFilial.html">nodoFilial</a></div><div class="ttdoc">Estrutura que guarda o registo dos produtos comprados por um cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00050">filial.c:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e3171627592da00dc8619850acad6ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3171627592da00dc8619850acad6ca">&#9670;&nbsp;</a></span>getProductsBoughtByClientAndQuantity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getProductsBoughtByClientAndQuantity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GPtrArray *&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que preenche um GPtrArray com os produtos associados a um cliente, bem como a quantidade comprada de cada um. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde procurar os produtos </td></tr>
    <tr><td class="paramname">clientID</td><td>Código de cliente a estudar </td></tr>
    <tr><td class="paramname">month</td><td>Mês a estudar </td></tr>
    <tr><td class="paramname">array</td><td>Apontador para o GPtrArray a preencher </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00648">648</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="structnodoFilial.html">NODO_FILIAL</a> <a class="code" href="structnodoFilial.html">nodoFilial</a> = (<a class="code" href="structnodoFilial.html">NODO_FILIAL</a>) g_tree_lookup(filial-&gt;nodosFilial, clientID);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="structquery10__aux.html">QUERY10_AUX</a> <a class="code" href="structquery10__aux.html">query10_aux</a> = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> query10_aux));</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    query10_aux-&gt;array = array;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    query10_aux-&gt;month = month;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    g_tree_foreach(nodoFilial-&gt;produtosComprados, Q10TraverseFunc, &amp;query10_aux);</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    array = query10_aux-&gt;array;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    free(query10_aux);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div><div class="ttc" id="structnodoFilial_html"><div class="ttname"><a href="structnodoFilial.html">nodoFilial</a></div><div class="ttdoc">Estrutura que guarda o registo dos produtos comprados por um cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00050">filial.c:50</a></div></div>
<div class="ttc" id="structquery10__aux_html"><div class="ttname"><a href="structquery10__aux.html">query10_aux</a></div><div class="ttdef"><b>Definition:</b> <a href="tipos_8h_source.html#l00064">tipos.h:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeed7b3ae91e0b3484a70e087ddb7b1f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeed7b3ae91e0b3484a70e087ddb7b1f3">&#9670;&nbsp;</a></span>initFilial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfilial.html">FILIAL</a> initFilial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structclientes.html">CLIENTES</a>&#160;</td>
          <td class="paramname"><em>clientes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que inicializa a estrutura da filial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientes</td><td>Apontador para a estrutura dos clientes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Apontador para a estrutura da filial </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00466">466</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;{</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="structfilial.html">FILIAL</a> <a class="code" href="structfilial.html">filial</a> = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> filial));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    filial-&gt;nodosFilial = g_tree_new_full(compareKeyNodosFilial,NULL,freeKeyNodoFilial,freeNodoFilial);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keywordtype">int</span> i, j;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordtype">int</span>* arrayNumeros;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">int</span> tamanhoArray;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordtype">char</span> letra;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordtype">char</span> codigo[6];</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="structnodoFilial.html">NODO_FILIAL</a> nodo_aux;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordtype">char</span>* key;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <span class="keywordflow">for</span> (i=0; i&lt;26; i++) {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      letra = i + <span class="charliteral">&#39;A&#39;</span>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      arrayNumeros = <a class="code" href="catCliente_8c.html#a5f873b2f87342e819ca8c3c38adc7416">getArrayClientes</a>(clientes,letra);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      tamanhoArray = <a class="code" href="catCliente_8c.html#a5a9f87da50dc3619a2caddc304848fc1">getSizeClientes</a> (clientes,i);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="keywordflow">for</span> (j=0; j&lt;tamanhoArray; j++) {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          sprintf(codigo,<span class="stringliteral">&quot;%c%d&quot;</span>, letra, arrayNumeros[j]);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          nodo_aux = (gpointer) initNodoFilial();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          key = (gpointer) <a class="code" href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a>(codigo);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;          g_tree_insert(filial-&gt;nodosFilial, key, nodo_aux);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      free(arrayNumeros);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">return</span> filial;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="ttc" id="structnodoFilial_html"><div class="ttname"><a href="structnodoFilial.html">nodoFilial</a></div><div class="ttdoc">Estrutura que guarda o registo dos produtos comprados por um cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00050">filial.c:50</a></div></div>
<div class="ttc" id="catCliente_8c_html_a5f873b2f87342e819ca8c3c38adc7416"><div class="ttname"><a href="catCliente_8c.html#a5f873b2f87342e819ca8c3c38adc7416">getArrayClientes</a></div><div class="ttdeci">int * getArrayClientes(CLIENTES clientes, char letra)</div><div class="ttdoc">Função que retorna um array com a parte numérica dos clientes associados a uma letra. </div><div class="ttdef"><b>Definition:</b> <a href="catCliente_8c_source.html#l00037">catCliente.c:37</a></div></div>
<div class="ttc" id="structfilial_html"><div class="ttname"><a href="structfilial.html">filial</a></div><div class="ttdoc">Estrutura que guarda os dados das diferentes filiais. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00042">filial.c:42</a></div></div>
<div class="ttc" id="catCliente_8c_html_a5a9f87da50dc3619a2caddc304848fc1"><div class="ttname"><a href="catCliente_8c.html#a5a9f87da50dc3619a2caddc304848fc1">getSizeClientes</a></div><div class="ttdeci">int getSizeClientes(CLIENTES clientes, int index)</div><div class="ttdoc">Função que retorna o número de clientes começados por uma determinada letra. </div><div class="ttdef"><b>Definition:</b> <a href="catCliente_8c_source.html#l00027">catCliente.c:27</a></div></div>
<div class="ttc" id="auxs_8c_html_a141b8e057d63a3ba14590139945e20a9"><div class="ttname"><a href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a></div><div class="ttdeci">char * mystrdup(const char *str)</div><div class="ttdoc">Função que retorna uma cópia de uma string. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00016">auxs.c:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0634188b7706ae26813975cf71e9cd73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0634188b7706ae26813975cf71e9cd73">&#9670;&nbsp;</a></span>insereVendaFilial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void insereVendaFilial </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfilial.html">FILIAL</a>&#160;</td>
          <td class="paramname"><em>filial</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>productID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>clientID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>modo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>preco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quantidade</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que insere uma venda na estrutura da faturação. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filial</td><td>Apontador para a filial onde se deseja inserir a venda </td></tr>
    <tr><td class="paramname">productID</td><td>Código do produto associado à venda a ser inserida </td></tr>
    <tr><td class="paramname">clientID</td><td>Código do cliente associado à venda a ser inserida </td></tr>
    <tr><td class="paramname">modo</td><td>Modo associado à venda a ser inserida </td></tr>
    <tr><td class="paramname">preco</td><td>Preço associado à venda a ser inserida </td></tr>
    <tr><td class="paramname">quantidade</td><td>Quantidade associada à venda a ser inserida </td></tr>
    <tr><td class="paramname">mes</td><td>Mês associado à venda a ser inserida </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00520">520</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="structnodoFilial.html">NODO_FILIAL</a> nodo = (<a class="code" href="structnodoFilial.html">NODO_FILIAL</a>) g_tree_lookup(filial-&gt;nodosFilial, clientID);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="structprodutosCliente.html">PRODUTOS_CLIENTE</a> prods_cliente;</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    prods_cliente = (<a class="code" href="structprodutosCliente.html">PRODUTOS_CLIENTE</a>) g_tree_lookup(nodo-&gt;produtosComprados, productID);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span> (prods_cliente != NULL) {</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">if</span> (modo == <span class="charliteral">&#39;N&#39;</span>) {</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            prods_cliente-&gt;totalProdutosComprados[mes-1].normal += quantidade;</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            prods_cliente-&gt;dinheiroGasto[mes-1].normal += ((float)quantidade) * preco;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;            prods_cliente-&gt;totalProdutosComprados[mes-1].promocao += quantidade;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;            prods_cliente-&gt;dinheiroGasto[mes-1].promocao += ((float)quantidade) * preco;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        }</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        prods_cliente = initProdutosClientes();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span> (modo == <span class="charliteral">&#39;N&#39;</span>) {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            prods_cliente-&gt;totalProdutosComprados[mes-1].normal += quantidade;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            prods_cliente-&gt;dinheiroGasto[mes-1].normal += ((float)quantidade) * preco;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            prods_cliente-&gt;totalProdutosComprados[mes-1].promocao += quantidade;</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            prods_cliente-&gt;dinheiroGasto[mes-1].promocao += ((float)quantidade) * preco;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        g_tree_insert(nodo-&gt;produtosComprados, <a class="code" href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a>(productID), prods_cliente);</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;}</div><div class="ttc" id="structnodoFilial_html"><div class="ttname"><a href="structnodoFilial.html">nodoFilial</a></div><div class="ttdoc">Estrutura que guarda o registo dos produtos comprados por um cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00050">filial.c:50</a></div></div>
<div class="ttc" id="structprodutosCliente_html"><div class="ttname"><a href="structprodutosCliente.html">produtosCliente</a></div><div class="ttdoc">Estrutura que guarda o registo das vendas de um produto, para um dado cliente. </div><div class="ttdef"><b>Definition:</b> <a href="filial_8c_source.html#l00079">filial.c:79</a></div></div>
<div class="ttc" id="auxs_8c_html_a141b8e057d63a3ba14590139945e20a9"><div class="ttname"><a href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a></div><div class="ttdeci">char * mystrdup(const char *str)</div><div class="ttdoc">Função que retorna uma cópia de uma string. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00016">auxs.c:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c1b79e9701d3da19e98e1d6cf326281"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1b79e9701d3da19e98e1d6cf326281">&#9670;&nbsp;</a></span>verSePresenteNoutraArvore()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean verSePresenteNoutraArvore </td>
          <td>(</td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Função que verifica os clientes comuns a duas GTrees e os insere numa terceira. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key para o nodo da AVL de Strings </td></tr>
    <tr><td class="paramname">value</td><td>Apontador para o nodo da AVL de Strings </td></tr>
    <tr><td class="paramname">data</td><td>Apontador para uma estrutura QUERY5 que possui uma GTREE vão sendo inseridos os códigos de cliente comuns a duas GTrees em estudo </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>FALSE em caso de sucesso, de forma a continuar a percorrer a AVL </dd></dl>

<p class="definition">Definition at line <a class="el" href="filial_8c_source.html#l00206">206</a> of file <a class="el" href="filial_8c_source.html">filial.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">char</span>* codCliente = (<span class="keywordtype">char</span>*) value;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="structquery5.html">QUERY5</a> <a class="code" href="structquery5.html">query5</a> = *((<a class="code" href="structquery5.html">QUERY5</a> *) data);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    GTree* comparar = *(query5-&gt;comparar);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">char</span>* aux;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    aux = (<span class="keywordtype">char</span>*) g_tree_lookup(comparar, (gconstpointer)codCliente);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (aux != NULL) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      g_tree_insert(*(query5-&gt;resultado), <a class="code" href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a>(codCliente), <a class="code" href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a>(codCliente));</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">return</span> FALSE;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div><div class="ttc" id="structquery5_html"><div class="ttname"><a href="structquery5.html">query5</a></div><div class="ttdef"><b>Definition:</b> <a href="tipos_8h_source.html#l00023">tipos.h:23</a></div></div>
<div class="ttc" id="auxs_8c_html_a141b8e057d63a3ba14590139945e20a9"><div class="ttname"><a href="auxs_8c.html#a141b8e057d63a3ba14590139945e20a9">mystrdup</a></div><div class="ttdeci">char * mystrdup(const char *str)</div><div class="ttdoc">Função que retorna uma cópia de uma string. </div><div class="ttdef"><b>Definition:</b> <a href="auxs_8c_source.html#l00016">auxs.c:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
